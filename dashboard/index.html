<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DSA Practice Studio</title>
    <link rel="stylesheet" href="/static/styles.css" />
  </head>
  <body>
    <div class="backdrop"></div>
    <div class="orb orb-a"></div>
    <div class="orb orb-b"></div>
    <div class="shell">
      <header class="topbar">
        <div class="brand">
          <div class="logo">DSA</div>
          <div class="brand-text">
          <h1>DSA Practice Studio</h1>
            <div class="sheet-switch">
              <span class="sheet-label">Sheets</span>
              <div class="sheet-tabs" id="sheetTabs"></div>
            </div>
          </div>
        </div>
        <div class="top-actions">
          <button id="syncBtn" class="btn ghost" type="button">Sync</button>
          <button id="randomBtn" class="btn primary" type="button">
            Pick Random
          </button>
          <button id="importBtn" class="btn ghost" type="button">Import</button>
          <button id="exportBtn" class="btn ghost" type="button">Export</button>
          <button
            id="settingsBtn"
            class="btn icon-btn"
            type="button"
            aria-label="Settings"
          >
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path
                d="M12 8.2a3.8 3.8 0 1 0 0 7.6 3.8 3.8 0 0 0 0-7.6Zm8.5 3.8-.9-.5a7.7 7.7 0 0 0-.6-1.6l.5-1a1 1 0 0 0-.4-1.3l-1.7-1a1 1 0 0 0-1.3.3l-.6.9a7.6 7.6 0 0 0-1.8-.3l-.4-1.1a1 1 0 0 0-1-.7h-2a1 1 0 0 0-1 .7l-.4 1.1c-.6.1-1.2.2-1.8.3l-.6-.9a1 1 0 0 0-1.3-.3l-1.7 1a1 1 0 0 0-.4 1.3l.5 1c-.3.5-.5 1-.6 1.6l-.9.5a1 1 0 0 0-.5.9v2a1 1 0 0 0 .5.9l.9.5c.1.6.3 1.1.6 1.6l-.5 1a1 1 0 0 0 .4 1.3l1.7 1a1 1 0 0 0 1.3-.3l.6-.9c.6.1 1.2.2 1.8.3l.4 1.1a1 1 0 0 0 1 .7h2a1 1 0 0 0 1-.7l.4-1.1c.6-.1 1.2-.2 1.8-.3l.6.9a1 1 0 0 0 1.3.3l1.7-1a1 1 0 0 0 .4-1.3l-.5-1c.3-.5.5-1 .6-1.6l.9-.5a1 1 0 0 0 .5-.9v-2a1 1 0 0 0-.5-.9Z"
              />
            </svg>
          </button>
          <div
            id="settingsPanel"
            class="settings-panel hidden"
            role="dialog"
            aria-label="Settings"
          >
            <div class="settings-header">Settings</div>
            <label class="setting-row">
              <span>Compact mode</span>
              <input type="checkbox" id="toggleCompact" />
            </label>
            <label class="setting-row">
              <span>Show unit strip</span>
              <input type="checkbox" id="toggleUnits" checked />
            </label>
            <label class="setting-row">
              <span>Show progress strip</span>
              <input type="checkbox" id="toggleProgress" checked />
            </label>
            <label class="setting-row">
              <span>Show SR column</span>
              <input type="checkbox" id="toggleSr" checked />
            </label>
            <label class="setting-row">
              <span>Show notes column</span>
              <input type="checkbox" id="toggleNotes" checked />
            </label>
            <label class="setting-row">
              <span>Show difficulty</span>
              <input type="checkbox" id="toggleDifficulty" checked />
            </label>
            <label class="setting-row">
              <span>Zebra rows</span>
              <input type="checkbox" id="toggleZebra" />
            </label>
          </div>
        </div>
      </header>

      <div class="content">
        <section class="controls">
          <div class="search">
            <label for="searchInput">Search</label>
            <input
              id="searchInput"
              type="search"
              placeholder="Title, id, or keyword"
            />
          </div>
          <div class="filters">
            <div class="filter">
              <label for="stepFilter">Unit</label>
              <select id="stepFilter"></select>
            </div>
            <div class="filter">
              <label for="chapterFilter">Chapter</label>
              <select id="chapterFilter"></select>
            </div>
            <div class="filter">
              <label for="statusFilter">Status</label>
              <select id="statusFilter">
                <option value="all">All</option>
                <option value="todo">Todo</option>
                <option value="done">Done</option>
              </select>
            </div>
          </div>
          <div class="controls-meta">
            <span id="resultCount">0 results</span>
            <span id="lastSync">Last sync: -</span>
          </div>
        </section>

        <section class="unit-strip">
          <div class="unit-strip-header">
            <h2>Units</h2>
            <span class="unit-hint"
              >Click a unit to filter. Check to mark complete.</span
            >
          </div>
          <div id="unitList" class="unit-list"></div>
        </section>

        <main class="layout">
          <section class="list-panel">
            <div class="panel-header">
              <div>
                <h2 id="panelTitle">Questions</h2>
                <p class="panel-subtitle" id="panelSubtitle">
                  All questions from the sheet.
                </p>
              </div>
              <span class="panel-count" id="panelCount">0</span>
            </div>
            <div class="progress-strip">
              <span id="listProgressBar"></span>
            </div>
            <div id="questionList" class="question-groups"></div>
          </section>
        </main>
      </div>
    </div>

  <div id="notesModal" class="modal hidden" role="dialog" aria-label="Notes">
      <div class="modal-backdrop" id="notesBackdrop"></div>
      <div class="modal-dialog" role="document">
        <div class="modal-header">
          <div>
            <p class="detail-kicker" id="detailStep">Unit</p>
            <h3>
              <span class="note-sr" id="detailSr">#0</span>
              <span id="detailTitle">Question</span>
            </h3>
          </div>
          <button
            class="btn icon-btn modal-close"
            type="button"
            id="closeNotesBtn"
            aria-label="Close notes"
          >
            <svg viewBox="0 0 24 24" aria-hidden="true">
              <path d="M6 6l12 12M18 6l-12 12" />
            </svg>
          </button>
        </div>
        <div class="modal-body">
          <div class="detail-field">
            <label for="detailNotes">Notes</label>
            <textarea
              id="detailNotes"
              rows="10"
              placeholder="Add hints, patterns, or mistakes to avoid."
            ></textarea>
            <button id="saveNoteBtn" class="btn slim">Save notes</button>
          </div>
          <div class="detail-foot">
            <span id="detailDoneAt">Last done: -</span>
            <span id="detailDifficulty">Difficulty: -</span>
          </div>
        </div>
      </div>
  </div>

  <div id="importModal" class="modal hidden" role="dialog" aria-label="Import">
    <div class="modal-backdrop" id="importBackdrop"></div>
    <div class="modal-dialog" role="document">
      <div class="modal-header">
        <div>
          <p class="detail-kicker">Import sheet</p>
          <h3>Upload CSV or Excel</h3>
          <p class="panel-subtitle">Pick a sheet or name a new one.</p>
        </div>
        <button class="btn icon-btn modal-close" type="button" id="closeImportBtn" aria-label="Close import">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M6 6l12 12M18 6l-12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="detail-field">
          <label for="importSheetSelect">Sheet</label>
          <select id="importSheetSelect"></select>
        </div>
        <div class="detail-field hidden" id="importSheetNameWrap">
          <label for="importSheetName">New sheet name</label>
          <input id="importSheetName" type="text" placeholder="e.g. My DSA Sheet" />
        </div>
        <div class="detail-field">
          <label for="importFile">File (.csv, .xlsx)</label>
          <input id="importFile" type="file" accept=".csv,.xlsx,.xlsm" />
        </div>
        <div class="import-options">
          <div class="detail-field">
            <label for="importDelimiter">CSV delimiter</label>
            <input id="importDelimiter" type="text" value="," maxlength="2" />
          </div>
          <div class="detail-field">
            <label for="importHeaderMode">Header row</label>
            <select id="importHeaderMode">
              <option value="auto" selected>Auto detect</option>
              <option value="true">Has header</option>
              <option value="false">No header</option>
            </select>
          </div>
        </div>
        <button id="importSubmitBtn" class="btn primary" type="button">Import</button>
        <p id="importStatus" class="panel-subtitle"></p>
      </div>
    </div>
  </div>

  <div id="exportModal" class="modal hidden" role="dialog" aria-label="Export">
    <div class="modal-backdrop" id="exportBackdrop"></div>
    <div class="modal-dialog" role="document">
      <div class="modal-header">
        <div>
          <p class="detail-kicker">Export sheet</p>
          <h3>Download your data</h3>
          <p class="panel-subtitle">Choose a sheet to export.</p>
        </div>
        <button class="btn icon-btn modal-close" type="button" id="closeExportBtn" aria-label="Close export">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M6 6l12 12M18 6l-12 12"/>
          </svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="detail-field">
          <label for="exportSheetSelect">Sheet</label>
          <select id="exportSheetSelect"></select>
        </div>
        <div class="export-actions">
          <button id="exportCsvSubmit" class="btn ghost" type="button">Download CSV</button>
          <button id="exportJsonSubmit" class="btn ghost" type="button">Download JSON</button>
        </div>
      </div>
    </div>
  </div>

  <script src="/static/app.js"></script>
</body>
</html>
